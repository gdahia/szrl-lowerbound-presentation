\documentclass{beamer}

\usetheme{Rochester}

\usepackage{amsthm,amsmath,amssymb,bbm,multicol}

\newcommand{\twr}{\mathrm{tower}}
\newcommand{\1}{\mathbbm{1}}
\newcommand{\X}{\mathcal{X}}
\newcommand{\A}{\mathcal{A}}
\newcommand{\B}{\mathcal{B}}
\newcommand{\indicator}[1]{\1_{[#1]}}
\newcommand{\Exp}[1]{\mathbb{E}\left [#1 \right ]}
\newcommand{\Prob}{\mathbb{P}}
\newcommand{\V}[1]{{V \choose #1}}
\newcommand{\Z}{\mathcal{Z}}
\newcommand{\eps}{\varepsilon}

\title{Lower bounds for Szemer\'{e}di's Regularity Lemma}

\subtitle{By Gowers (1997), Moshkovitz and Shapira (2016)}

\author{Gabriel Dahia}

\institute{IMPA}

\date{\today}

\begin{document}

\beamertemplatenavigationsymbolsempty

\begin{frame}
  %
  \titlepage
  %
\end{frame}

\begin{frame}{Based on}
  %
  \begin{itemize}
    %
    \item Gowers, W.T. ``\textit{Lower bounds of tower type for Szemer\'{e}di's
          uniformity lemma}.'' Geometric \& Functional Analysis (1997).
          %
    \item Moshkovitz, G. and Shapira, A. ``\textit{A short proof of Gowersâ€™ lower bound
            for the regularity lemma}.'' Combinatorica (2016).
          %
  \end{itemize}
  %
\end{frame}

\begin{frame}{Definitions}
  %
  \begin{definition}[$\eps$-regular pair $(A, B)$]
    %
    $|d(A, B) - d(X, Y)| \le \eps$ for all $A \subseteq X$ and $B \subseteq Y$ if
    $|A| \ge \eps |X|$ and $|B| \ge \eps |Y|$.
    %
  \end{definition}

  \pause
  %
  \begin{definition}[Equipartition $\Z$]
    %
    $\Z = \{Z_1, \dots, Z_k\}$ partition such that $||Z_i| - |Z_j|| \le 1$ for all $i, j \in
      [k]$.
    %
  \end{definition}

  \pause
  %
  \begin{definition}[$\eps$-regular partition $\Z$]
    %
    All but $\eps k^2$ pairs $(Z_i, Z_j)$ are $\eps$-regular.
    %
  \end{definition}
  %
\end{frame}

\begin{frame}{Szemer\'{e}di's Regularity Lemma}
  %
  \begin{theorem}[Szemer\'{e}di (1978)]
    %
    For every $0 < \eps < 1/2$, there is $K = K(\eps)$ so that every graph has an
    $\eps$-regular equipartition with at most $K$ parts.
    %
    \pause
    %
    Moreover, $K(\eps) \le \twr(O(\eps^{-1/5}))$.
    %
  \end{theorem}
  %
\end{frame}

\begin{frame}{Lowerbounds for $K(\eps)$}
  %
  \begin{block}{Question}
    %
    For which functions $f(\eps)$ do we have a graph such that $f(\eps) \le K(\eps)$?
    %
  \end{block}
  %
  % motivate this question: better bounds for applications of regularity, Gowers' remark
  % that it would be more useful if it were of the form exp(eps^-beta).

  %
  \pause
  %
  \begin{theorem}[Gowers (1997)]
    %
    There exists a graph and a constant $c > 0$ such that $\twr(\eps^{-c}) \le K(\eps)$.
    %
  \end{theorem}

  \pause

  \begin{block}{Proposition (Gowers (1997))}
    %
    There exists a graph and a constant $c > 0$ such that $\twr(c\log 1/\eps) \le
      K(\eps)$.
    %
  \end{block}
  %
  % note that gowers prove his lowerbound for a weaker version of the szrl, so the proof
  % is more general. note however that the ideas are the same
  %
\end{frame}

\begin{frame}{Gowers lowerbound framework}
  %
  Use an ``edge distribution'' instead of explicit graph.
  %
  \pause
  %
  Define a sequence of equipartitions $\X_0, \dots, \X_s$ with $\X_{i + 1}$ refining
  $\X_i$ in exponentially more parts.
  %
  \pause
  %
  Probability of edge $uv \in G$ depends on the parts $u$ and $v$ belong to in the
  partitions.
  %
  \pause
  %
  Any $\eps$-regular partition of the edge distribution cannot be too far from being a
  refinement of $\X_s$, which has many parts.
  %
\end{frame}

\begin{frame}{Alternative, equivalent setting}
  %
  \begin{definition}[Edge distribution $\mu$]
    %
    $\mu: {V \choose 2} \to [0, 1]$ such that $\Prob(uv \in G) = \mu(uv)$.
    %
  \end{definition}

  \pause

  \begin{definition}[Pair density for edge distributions]
    %
    $d_\mu(A, B) = |A|^{-1} |B|^{-1} \sum_{(u, v) \in A \times B} \mu(uv)$.
    %
  \end{definition}

  \pause

  \begin{lemma}
    %
    If $G \sim \mu$, then for $m \gtrsim \theta^{-2} \log n$, $|d_\mu(A, B) - d(A, B)|
      \le \theta$ with probability at least 1/2 if $|A| = |B| = m$.
    %
  \end{lemma}

  \pause

  \begin{proof}
    %
    \pause
    %
    $d(A, B) = |A|^{-1} |B|^{-1} \sum_{uv} \indicator{uv \in G}$.
    %
    \pause
    %
    So, $\Exp{d(A, B)} = d_\mu(A, B)$.
    %
    \pause
    %
    By Chernoff, $\Prob(|d(A, B) - d_\mu(A, B)| \ge \theta) \le 2\exp(-2 m^2 \theta^2)$.
    %
    \pause
    %
    Taking a union bound over $A$ and $B$, $\Prob(G \text{ bad}) \le 2 {n \choose m}^2
      \exp(-2 m^2 \theta^2) < 1/2$ if $m \ge C \theta^{-2} \log n$.
    %
  \end{proof}
  %
\end{frame}

\begin{frame}{$\eta$-balanced bipartitions}
  %
  \begin{definition}[$\eta$-balanced bipartitions]
    %
    Sequence $(A_i, B_i)_{i = 1}^m$ of equal-sized-parts bipartitions of $M$ such that
    for $s, t \in [M]$ there are at most $(1/2 + \eta)m$ values of $i$ for which $s$ and
    $t$ lie in the same part of the corresponding bipartition.
    %
  \end{definition}

  \pause

  \begin{lemma}
    %
    For every $m \ge 1$ and $M \lesssim 2^{\eta^2 m}$, there exists a sequence of
    $\eta$-balanced bipartitions of $[M]$. Call $\phi(m)$ the largest such $M$.
    %
  \end{lemma}

  \pause

  \begin{proof}
    %
    \pause
    %
    For bipartition $i$, and element $t \in [M]$, put $t \in A_i$ with probability 1/2.
    %
    \pause
    %
    Let $X_{s, t}$ be the random variable counting the times $s, t$ fall in the same
    side.
    %
    \pause
    %
    $\Exp{X_{s, t}} = m/2$.
    %
    \pause
    %
    Using Chernoff's bound, $\Prob(X_{s, t} > (1 + 2 \eta)m/2) \le \exp(-\eta^2 m)$.
    %
    \pause
    %
    Taking a union bound over all ${M \choose 2}$ choices of distinct $s, t$ works for
    the given $M$ range.
    %
  \end{proof}
  %
\end{frame}

\begin{frame}{The (edge distribution) construction}
  %
  \begin{enumerate}
    %
    \item[] Let $\X_0$ be the trivial equipartition.
          %
          \pause
          %
    \item Define $\X_{r + 1}$ from $\X_r$ by
          %
          \vspace{-25pt}
          %
          \begin{multicols}{2}
            %
            \begin{equation*}
              %
              \X_r = \{ X_i \}_{i = 1}^m,
              %
            \end{equation*}

            \begin{equation*}
              %
              X_{i, j} \cap X_{i, j'} = \emptyset,
              %
            \end{equation*}

            \begin{equation*}
              %
              X_i = \bigcup_{j = 1}^M X_{i, j},
              %
            \end{equation*}

            \begin{equation*}
              %
              \X_{r + 1} = \{ X_{i, j} \}_{i = 1, j = 1}^{m, M}
              %
            \end{equation*}
            %
          \end{multicols}
          %
          for $M = \phi(m)$.

          \pause

    \item Get $\eta$-balanced bipartitions $(\A_j, \B_j)_{j = 1}^m$ of $[M]$ (use them
          to partition the set $\{X_{i, 1}, \dots, X_{i, M}\}$).

          \pause

    \item Create a sequence of $m$ bipartitions of $X_i$ by letting $A_{i, j} =
            \bigcup_{t \in \A_j} X_{i, t}$ and $B_{i, j} = X_i \setminus A_{i, j}$.

          \pause

    \item Define $G_{r + 1}$ where the only edges are those in
          $G_{r + 1}[A_{i, j}, A_{j, i}]$ and $G_{r + 1}[B_{i, j}, B_{j, i}]$ both of
          which are complete bipartite.
          %
          % What happens if we think about this construction from \X_s downwards, taking
          % blow-ups of the above sort? It seems we could start from the szrl partition
          % and move into \X_s? Top-down approach?
          %
          \pause
          %
    \item Set $\mu(uv) = \sum_{r = 1}^s 2^{-r} \indicator{uv \in G_r}$.
          %
  \end{enumerate}

\end{frame}

\begin{frame}{$\beta$-refinements}
  %
  \begin{definition}[$Z \subseteq_\beta X$]
    %
    $Z \subseteq_\beta X$ iff $|Z \cap X| \ge (1 - \beta)|Z|$.
    %
    % it misses at most a beta proportion of the elements
    %
  \end{definition}

  \pause

  \begin{definition}[$\Z$ $\beta$-refining $\X$]
    %
    $\Z$ $\beta$-refines $\X$ if at least $(1 - \beta)|\Z|$ parts $Z_t$ are such that
    there is $X_i \in \X$ with $Z_t \subseteq_\beta X_i$.
    %
    % notice \Z must not necessarily be a partition, it could only be a disjoint subset
    %
  \end{definition}

  \pause

  \begin{lemma}[Key Lemma]
    %
    Let $\Z$ be an $\eps$-regular equipartition of $\mu$. For every such partition, there
    is $\beta$ such that if $\Z$ $\beta$-refines $\X_r$, then it $8\beta$-refines $\X_{r
        + 1}$.
    %
  \end{lemma}
  %
\end{frame}

\begin{frame}{Key Lemma usefulness}
  %
  \begin{proof}[Proof assuming Key Lemma (and modulo some computations)]
    %
    \pause
    %
    $\Z$ $\sqrt{\eps}$-refines $\X_0$ and so we can use the Key Lemma $r$ times to
    conclude it $8^r \sqrt{\eps}$-refines $\X_r$.
    %
    \pause
    %
    It follows that $|\Z| \ge |\X_s|/2$.
    %
    \pause
    %
    From the recurrence $|\X_{r + 1}| = |\X_r| \phi(|X_r|)$, we conclude $|\X_s| =
      \twr(s)$.
    %
    \pause
    %
    To get a graph $G$ with this property, we take $G \sim \mu$.
    %
  \end{proof}

  \pause

  \begin{block}{Missing pieces}
    %
    \begin{enumerate}
      %
      \item Proof of Key Lemma.
            %
            \pause
            %
      \item $\beta$?
            %
            \pause
            %
      \item $s$?
            %
    \end{enumerate}
    %
  \end{block}
  %
\end{frame}

\begin{frame}{$\lambda$ vector}
  %
  \begin{definition}[$\lambda$ vector]
    %
    If $Z_t \subseteq_\beta X_i$, define $\lambda_j = |Z_t \cap X_{i, j}| / |Z_t|$.
    %
  \end{definition}

  \pause

  \begin{block}{Observations}
    %
    \begin{enumerate}
      %
      \pause
      %
      \item $\lambda_j \ge 0$
            %
            \pause
            %
      \item If $\lambda_j = 1 - \gamma$ then $Z_t \subseteq_\gamma X_{i, j}$
            %
            \pause
            %
      \item $\lVert \lambda \rVert_1 \ge 1 - \beta$
            %
    \end{enumerate}
    %
  \end{block}
  %
\end{frame}

\begin{frame}{$\eta$-balanced bipartitions and $\lambda$ vector}
  %
  \vspace{-5pt}

  \begin{lemma}
    %
    Let $(\A_j, \B_j)_{j = 1}^m$ be the sequence of $\eta$-balanced bipartions of $[M]$.
    Define $h \in H$ iff $(\A_h, \B_h)$ satisfy $\min(\sum_{v \in \A_h} \lambda_v,
      \sum_{v \in \B_h} \lambda_v) \ge \beta$.  If for all $j \in [M]$ $Z_t \not
      \subseteq_{8 \beta} X_{i, j}$, then $|H| = \Omega(m)$.
    %
  \end{lemma}

  % TODO: fix constants and (1 - beta) dividing

  \pause

  \vspace{-5pt}

  \begin{proof}
    %
    By definition of $\lambda$, we have $\lVert \lambda \rVert_\infty \le 1 - 8\beta$.
    %
    \pause
    %
    Assume $(\A_j, \B_j)_{j = 1}^m$ is $\gamma$-balanced and choose one of them uniformly
    at random.
    %
    \pause
    %
    Given $v$, define $Y_v = \indicator{v \in \A_j} - \indicator{v \in \B_j}$.
    %
    \pause
    %
    $\Exp{Y_v^2} = 1$ and $\Exp{Y_v Y_{v'}} \le 1/2$ if $v \ne v'$.
    %
    \pause
    %
    Let $Y = \sum_v \lambda_v Y_v$.
    %
    \pause
    %
    Hence, $\Exp{Y^2} \le 1 - 4 \beta$ and $\Exp{|Y|} \le 1 - 2 \beta$.
    %
    \pause
    %
    We conclude there is $h$ such that $|\sum_{v \in \A_h} \lambda_v - \sum_{v \in \B_h}
      \lambda_v| \le 1 - 2 \beta$.
    %
    \pause
    %
    But we also have $|\sum_{v \in \A_h} \lambda_v - \sum_{v \in \B_h} \lambda_v| =
      2|\sum_{v \in \A_h} \lambda_v - 1/2|$,
    %
    \pause
    %
    from which we conclude $\beta \le \sum_{v \in \A_h} \lambda_v \le 1 - \beta$.
    %
    \pause
    %
    Take $(\A_h, \B_h)$ while the sequence is still $\gamma$-balanced. We can do this
    until we have removed a $(1/2 + \eta)/(1 - \gamma)$ fraction of them.
    %
  \end{proof}
  %
\end{frame}

\begin{frame}{Overview of proof of Key Lemma}
  %
  \begin{enumerate}
    %
    \item All we know is that $\Z$ is $\eps$-regular equipartition
          %
          \pause
          %
    \item We want to show there are not many $Z_t$ such that $Z_t \not \subseteq_{8
              \beta} X_{i, j}$
          %
          \pause
          %
    \item The $\eta$-balanced partitions and $\lambda$ vector lemma gives us many
          bipartitions from the lemma
          %
          \pause
          %
    \item Use these bipartitions to get many $Z_u \subseteq_\beta X_{i, h}$
          %
          \pause
          %
    \item Divide $Z_t$ into $h$-red and $h$-blue subsets of $X_i$, and $Z_u$ into $i$-red
          and $i$-blue subsets of $X_h$
          %
          \pause
          %
          \begin{enumerate}[i]
            %
            \item The bipartition properties shows these subsets are in the ``regularity
                  lemma setting''
                  %
                  \pause
                  %
            \item The construction of $\mu$ shows they are a witness to the irregularity
                  of the pair $(Z_t, Z_u)$
                  %
          \end{enumerate}
          %
          \pause
          %
    \item Therefore, there cannot be many $Z_t$, and we can discard the bad ones to get
          the key lemma.
          %
  \end{enumerate}
  %
\end{frame}

\begin{frame}{Proof of Key Lemma}
  %
  \begin{lemma}[Key Lemma]
    %
    Let $\Z$ be an $\eps$-regular equipartition of $\mu$. For every such partition, there
    is $\beta$ such that if $\Z$ $\beta$-refines $\X_r$, then it $8\beta$-refines $\X_{r
        + 1}$.
    %
  \end{lemma}
  %
  \vspace{-8pt}
  %
  \begin{block}{Proof.}
    %
    \pause
    %
    Take $\beta^2 > \eps$. Let $Z_t \subseteq_\beta X_i$ and suppose there is no $j$ such
    that $Z_t \subseteq_{8 \beta} X_{i, j}$.
    %
    \pause
    %
    By the previous lemma, we have that there are $5 \beta m/2$ values of $h$ for which
    $\min( \sum_{j \in \A_h} \lambda_j, \sum_{j \in \B_h} \lambda_j) \ge \beta > \eps$.
    %
    \pause
    %
    \alert{From $\Z$ $\beta$-refining $\X_r$ and averaging, there are $(1 - \beta) 5\beta
        k/4 > \beta k$ pairs of $(u, h)$ such that $Z_u \subseteq_\beta X_h$ as above.}

    \pause
    %
    Fix one such $(u, h)$ and define
    %
    \vspace{-10pt}
    %
    \begin{multicols}{4}
      %
      $T_A = Z_t \cap A_{i, h}$

      \break

      $T_B = Z_t \cap B_{i, h}$

      \break

      $U_A = Z_u \cap A_{h, i}$

      \break

      $U_B = Z_u \cap B_{h, i}$.

      %
    \end{multicols}
    %
    \vspace{-10pt}
    %
    \pause
    %
    We know $d_{G_r}(T_A, U_A) = 1$, $d_{G_r}(T_B, U_A) = 0$,
    %
    \pause
    %
    $\min(|T_A|, |T_B|) > \eps |Z_t|$,
    %
    \pause
    %
    and $|U_A| \ge (1 - \beta)|Z_u|/2$ if $|U_A| \ge |U_B|$.
    %
    \pause
    %
    By definition of $\mu$, this implies $|d_\mu(T_A, U_A) - d_\mu(T_B, U_A)| \ge
      2^{-s}$.
    %
  \end{block}
  %
\end{frame}

\begin{frame}{Proof of Key Lemma}
  %
  \begin{proof}
    %
    Pick $s \le \log 1/\eps$ and $(Z_t, Z_u)$ is not $\eps$-regular.
    %
    \pause
    %
    This argument shows that assuming $Z_t \subseteq_\beta X_i$ but for no $j$  $Z_t
      \subseteq_{8 \beta} X_{i, j}$, then $\beta k$ pairs with $Z_t$ are irregular.

    \pause
    %
    As $\beta^2 > \eps$ and $\Z$ $\beta$-refines $\X_r$, we can discard $\beta k$ values
    of $t$ and for the remaining $(1 - 2\beta)k$ values with have $Z_t \subseteq_{8
        \beta} X_{i, j}$ for some $i, j$.
    %
  \end{proof}
  %
\end{frame}

\begin{frame}{Stronger proof}
  %
  \begin{block}{Gowers' stronger proof}
    %
    \begin{enumerate}
      %
      \pause
      %
    \item $(\eps, \delta)$-regularity

      \pause
      %
      \item $\eta$-balanced $r$-partitions

            \pause
            %
      \item $\lambda$ vectors for multiple parts

            \pause
            %
      \item no edge distribution

            \pause
            %
      \item $G$ defined as a mod-2 sum (ie, an exclusive or)
            %
    \end{enumerate}
    %
  \end{block}

  \pause
  %
  \begin{block}{Moshkovitz and Shapira's simpler version}
    %
    \begin{enumerate}
      %
      \item $\eps$-nice instead of $\eps$-regular.

            \pause
            %
      \item Key lemma with $(\beta + 8\eps)$-refinement instead of $8 \beta$-refinement.

            \pause
            %
      \item Uniform weight $\delta$ instead of exponentially decaying $2^{-r}$

            \pause
            %
      \item Direct counting of vertices, instead of parts
            %
    \end{enumerate}
    %
  \end{block}
  %
\end{frame}

\begin{frame}{Bonus}
  %
  \begin{theorem}[Fox, LM Lovasz (2017)]
    %
    For $\eps < 1/4$, there are constants $C > c > 0$ such that the bound $K(\eps)$ on
    the number of parts in the regularity lemma is at least a tower of twos of height at
    least $c \eps^{-2}$ and at most $C \eps^{-2}$.
    %
  \end{theorem}

  \begin{block}{Question}
    %
    Can these graphs be handled separately in applications of regularity?
    %
    % similar to Luczak's construction. Can we have a containers for these guys and a KLR
    % conjecture analogue to get good bounds for szrl?
    %
  \end{block}
  %
\end{frame}


\end{document}
